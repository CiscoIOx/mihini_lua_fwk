<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Mihini agent libraries: swi_devicetree.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-594061-12']);
  _gaq.push(['_setDomainName', 'eclipse.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body>

<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>swi_devicetree.h File Reference</h1>This file gives an set/get/notify API on the device tree. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stdbool.h&gt;</code><br>
<code>#include &quot;<a class="el" href="returncodes_8h.html">returncodes.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="swi__dset_8h.html">swi_dset.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for swi_devicetree.h:</div>
<div class="dynsection">
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#8ea5273ab293b18d085631a71f9043d8">swi_dt_NotifyCB_t</a> )(<a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Variable change notification callback.  <a href="#8ea5273ab293b18d085631a71f9043d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#6c6172814d1765eaaf126be9c8da3f97">swi_dt_regId_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registration identifier.  <a href="#6c6172814d1765eaaf126be9c8da3f97"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#fe1b82fc65db9314f0b0865554acfa58">swi_dt_Init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the module.  <a href="#fe1b82fc65db9314f0b0865554acfa58"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#3b6b447c52ef332881cbbedae99cabb7">swi_dt_Destroy</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys the DeviceTree library.  <a href="#3b6b447c52ef332881cbbedae99cabb7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#fb67109e2b852039026bb6ffdb6e5296">swi_dt_Get</a> (const char *pathPtr, <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> **data, bool *isLeaf)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves a variable's value from the device tree.  <a href="#fb67109e2b852039026bb6ffdb6e5296"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#fef3e712bdbaaa0c242b68f798059d1a">swi_dt_MultipleGet</a> (size_t numVars, const char **pathPtr, <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> **data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves several variable values from the device tree.  <a href="#fef3e712bdbaaa0c242b68f798059d1a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#249c3c7d3c2ac8e3859d6935ef557537">swi_dt_SetInteger</a> (const char *pathPtr, int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets an integer variable value into the variable tree.  <a href="#249c3c7d3c2ac8e3859d6935ef557537"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#f5714d64f24a504f8240ad07cd6258c3">swi_dt_SetFloat</a> (const char *pathPtr, double value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a float variable value into the variable tree.  <a href="#f5714d64f24a504f8240ad07cd6258c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#5072adf0aaa2a94aae2626ae92a743d3">swi_dt_SetString</a> (const char *pathPtr, const char *valuePtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a string variable value into the variable tree.  <a href="#5072adf0aaa2a94aae2626ae92a743d3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#54c8c495b806c0bfc86feca7e605cda8">swi_dt_SetNull</a> (const char *pathPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a NULL variable value into the variable tree.  <a href="#54c8c495b806c0bfc86feca7e605cda8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#22c881357d817d393171c4adaf08e4c3">swi_dt_SetBool</a> (const char *pathPtr, bool value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a boolean variable value into the variable tree.  <a href="#22c881357d817d393171c4adaf08e4c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#a2dc4e419d9bd06974c408cebfd3fcb6">swi_dt_Register</a> (size_t numRegVars, const char **regVarsPtr, <a class="el" href="swi__devicetree_8h.html#8ea5273ab293b18d085631a71f9043d8">swi_dt_NotifyCB_t</a> cb, size_t numPassiveVars, const char **passiveVarsPtr, <a class="el" href="swi__devicetree_8h.html#6c6172814d1765eaaf126be9c8da3f97">swi_dt_regId_t</a> *regIdPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers to receive a notification when one or several variables change.  <a href="#a2dc4e419d9bd06974c408cebfd3fcb6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__devicetree_8h.html#077d06c144d356e4773ad7878538813d">swi_dt_Unregister</a> (<a class="el" href="swi__devicetree_8h.html#6c6172814d1765eaaf126be9c8da3f97">swi_dt_regId_t</a> regId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cancels registration to receive a notification when a variable changes.  <a href="#077d06c144d356e4773ad7878538813d"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file gives an set/get/notify API on the device tree. 
<p>
This module provides read/write access to system parameters and settings, as well as the ability to receive notifications when they change. System parameters and settings are addressed based on a predefined tree (the "Device Tree") that organizes them based on functionality. This tree will continue to be developed and expanded as the Application Framework evolves. <hr>
 <hr><h2>Typedef Documentation</h2>
<a class="anchor" name="8ea5273ab293b18d085631a71f9043d8"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_NotifyCB_t" ref="8ea5273ab293b18d085631a71f9043d8" args=")(swi_dset_Iterator_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*  <a class="el" href="swi__devicetree_8h.html#8ea5273ab293b18d085631a71f9043d8">swi_dt_NotifyCB_t</a>)(<a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> *data)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Variable change notification callback. 
<p>
It will be called when a watched variable has changed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>[IN] data iterator containing the variable values. The data iterator will be allocated by DeviceTree library, and automatically released when the callback returns. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6c6172814d1765eaaf126be9c8da3f97"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_regId_t" ref="6c6172814d1765eaaf126be9c8da3f97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="swi__devicetree_8h.html#6c6172814d1765eaaf126be9c8da3f97">swi_dt_regId_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registration identifier. 
<p>
Used to identify an registration so that it can be unregistered afterwards. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="3b6b447c52ef332881cbbedae99cabb7"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_Destroy" ref="3b6b447c52ef332881cbbedae99cabb7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_Destroy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroys the DeviceTree library. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success </dd></dl>

</div>
</div><p>
<a class="anchor" name="fb67109e2b852039026bb6ffdb6e5296"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_Get" ref="fb67109e2b852039026bb6ffdb6e5296" args="(const char *pathPtr, swi_dset_Iterator_t **data, bool *isLeaf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_Get           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> **&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>isLeaf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieves a variable's value from the device tree. 
<p>
There are 2 cases: either the requested path is a node or it is a value.<p>
Leaf case: When retrieving a leaf, the result will be put as the single element in a <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f" title="struct to deal with incoming data.">swi_dset_Iterator_t</a> object, and the `isLeaf` parameter will be set to `true`.<p>
Internal Node case: The retrieval is not recursive: asking for a path prefix (i.e. a node) will not return every key/value pairs sharing this prefix. Instead, the `isLeaf` parameter will be set to `false` and the result will be a list of element put in a <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f" title="struct to deal with incoming data.">swi_dset_Iterator_t</a> object, the list provides the absolute and relatives paths to the prefix's direct children. Each iterator element will give the name of one sub-element of the requested node.<p>
For instance, if the branch foo.bar contains { x=1, y={z1=2, z2=3}}, a get("foo.bar") will return { "foo.bar.x"="x", "foo.bar.y"="y" }. No children value is returned, and the children of y, which are the grand-children of foo.bar, are not iterated.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_FOUND when requested path was not found </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] the path to retrieve, can be a leaf or a node. </td></tr>
<tr><td valign="top"><em>data</em>&nbsp;</td><td>
[OUT] the data iterator containing the results of the Get operation. The DeviceTree library will allocate data iterator resources. The user is responsible to release the data iterator resources using <a class="el" href="swi__dset_8h.html#3975ce1a72060676b21aa1d503259291" title="Destroys explicitly a data iterator.">swi_dset_Destroy</a> function. </td></tr>
<tr><td valign="top"><em>isLeaf</em>&nbsp;</td><td>
[OUT] Optional output boolean parameter to indicate that the request was on a leaf node (`true` is returned) or on an internal node (`false` is returned) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="fe1b82fc65db9314f0b0865554acfa58"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_Init" ref="fe1b82fc65db9314f0b0865554acfa58" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_Init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the module. 
<p>
A call to init is mandatory to enable DeviceTree library APIs.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="fef3e712bdbaaa0c242b68f798059d1a"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_MultipleGet" ref="fef3e712bdbaaa0c242b68f798059d1a" args="(size_t numVars, const char **pathPtr, swi_dset_Iterator_t **data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_MultipleGet           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>numVars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> **&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieves several variable values from the device tree. 
<p>
Only leaf paths will be retrieved, any node path will be silently discarded. Each leaf value will be put as an element in the <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f" title="struct to deal with incoming data.">swi_dset_Iterator_t</a> object. Each element's name will be the full path of the variable.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_FOUND when one of the requested path was not found, then the whole request will fail and no value is returned. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numVars</em>&nbsp;</td><td>
[IN] the number of variables to retrieve. </td></tr>
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] pointer to an array of strings (with numVars entries), contains the path of each variable to retrieve. </td></tr>
<tr><td valign="top"><em>data</em>&nbsp;</td><td>
[OUT] the data iterator containing the results of the Get operation. The DeviceTree library will allocate data iterator resources. The user is responsible to release the data iterator resources using <a class="el" href="swi__dset_8h.html#3975ce1a72060676b21aa1d503259291" title="Destroys explicitly a data iterator.">swi_dset_Destroy</a> function. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="a2dc4e419d9bd06974c408cebfd3fcb6"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_Register" ref="a2dc4e419d9bd06974c408cebfd3fcb6" args="(size_t numRegVars, const char **regVarsPtr, swi_dt_NotifyCB_t cb, size_t numPassiveVars, const char **passiveVarsPtr, swi_dt_regId_t *regIdPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_Register           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>numRegVars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>regVarsPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__devicetree_8h.html#8ea5273ab293b18d085631a71f9043d8">swi_dt_NotifyCB_t</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>numPassiveVars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>passiveVarsPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__devicetree_8h.html#6c6172814d1765eaaf126be9c8da3f97">swi_dt_regId_t</a> *&nbsp;</td>
          <td class="paramname"> <em>regIdPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers to receive a notification when one or several variables change. 
<p>
The callback will be called in a new pthread.<p>
The callback is triggered every time one or some of the variables listed in regvars changes. It receives as parameter a swi_dset_Iterator_t with variable-name / variable-value pairs; these variables are all the variables listed in regvars which have changed, plus every variables listed in passivevars, whether their values changed or not.<p>
Please note that the callback can be called with swi_dset_Iterator_t param containing <a class="el" href="swi__dset_8h.html#99055c40fad9fb15370ac2862803c80b" title="Enum to define data types supported in Data Set object.">swi_dset_Type_t</a> <a class="el" href="swi__dset_8h.html#9aa40fccb87b6785f13f30662ddc476edceaa6562700dbaf00547cb80ea7625c" title="Used to indicate a deletion or an absence of variable.">SWI_DSET_NIL</a> type to indicate variable(s) deletion. Variables listed in regvars and passivevars can be either fully qualified variable names, or a path which denotes every individual variable below this path.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>numRegVars</em>&nbsp;</td><td>
[IN] the number of variables to register to. </td></tr>
<tr><td valign="top"><em>regVarsPtr</em>&nbsp;</td><td>
[IN] pointer to an array of strings (with numRegVars entries), the variables which must be monitored for change. </td></tr>
<tr><td valign="top"><em>cb</em>&nbsp;</td><td>
[IN] the function triggered every time a regvars variable changes. The callback is called with a <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f" title="struct to deal with incoming data.">swi_dset_Iterator_t</a> containing all the changes, paths as element names and values as values. </td></tr>
<tr><td valign="top"><em>numPassiveVars</em>&nbsp;</td><td>
[IN] the number of passive variables to receive. </td></tr>
<tr><td valign="top"><em>passiveVarsPtr</em>&nbsp;</td><td>
[IN] pointer to an array of strings (with numPassiveVars entries), optional variables to always pass to callback, whether they changed or not. </td></tr>
<tr><td valign="top"><em>regIdPtr</em>&nbsp;</td><td>
[OUT] identifier of the registration, to be used to cancel it afterward using swi_dt_Unregister function. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="22c881357d817d393171c4adaf08e4c3"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_SetBool" ref="22c881357d817d393171c4adaf08e4c3" args="(const char *pathPtr, bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_SetBool           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a boolean variable value into the variable tree. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_PERMITTED when requesting non-leaf value <p>
RC_NOT_FOUND when requested path was not found </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] pathPtr the path to variable to set in device tree. </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] boolean value to set </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="f5714d64f24a504f8240ad07cd6258c3"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_SetFloat" ref="f5714d64f24a504f8240ad07cd6258c3" args="(const char *pathPtr, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_SetFloat           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a float variable value into the variable tree. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_PERMITTED when requesting non-leaf value <p>
RC_NOT_FOUND when requested path was not found </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] the path to variable to set in device tree. </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] float value to set </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="249c3c7d3c2ac8e3859d6935ef557537"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_SetInteger" ref="249c3c7d3c2ac8e3859d6935ef557537" args="(const char *pathPtr, int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_SetInteger           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets an integer variable value into the variable tree. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_PERMITTED when requesting non-leaf value <p>
RC_NOT_FOUND when requested path was not found </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] the path to variable to set in device tree. </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] integer value to set </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="54c8c495b806c0bfc86feca7e605cda8"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_SetNull" ref="54c8c495b806c0bfc86feca7e605cda8" args="(const char *pathPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_SetNull           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a NULL variable value into the variable tree. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_PERMITTED when requesting non-leaf value <p>
RC_NOT_FOUND when requested path was not found </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] pathPtr the path to variable to set in device tree. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="5072adf0aaa2a94aae2626ae92a743d3"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_SetString" ref="5072adf0aaa2a94aae2626ae92a743d3" args="(const char *pathPtr, const char *valuePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_SetString           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>valuePtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets a string variable value into the variable tree. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_PERMITTED when requesting non-leaf value <p>
RC_NOT_FOUND when requested path was not found </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] pathPtr the path to variable to set in device tree. </td></tr>
<tr><td valign="top"><em>valuePtr</em>&nbsp;</td><td>
[IN] string value to set </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="077d06c144d356e4773ad7878538813d"></a><!-- doxytag: member="swi_devicetree.h::swi_dt_Unregister" ref="077d06c144d356e4773ad7878538813d" args="(swi_dt_regId_t regId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_dt_Unregister           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__devicetree_8h.html#6c6172814d1765eaaf126be9c8da3f97">swi_dt_regId_t</a>&nbsp;</td>
          <td class="paramname"> <em>regId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Cancels registration to receive a notification when a variable changes. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>regId</em>&nbsp;</td><td>
[IN] identifier of the registration to cancel, the id returned by previous swi_dt_Register call. </td></tr>
</table>
</dl>
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 19 12:54:04 2013 for Mihini agent libraries by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
