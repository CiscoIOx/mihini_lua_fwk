<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Mihini agent libraries: swi_airvantage.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-594061-12']);
  _gaq.push(['_setDomainName', 'eclipse.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body>

<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>swi_airvantage.h File Reference</h1>This API enables interaction with Sierra Wireless AirVantage Services Platform. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;<a class="el" href="returncodes_8h.html">returncodes.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="swi__dset_8h.html">swi_dset.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for swi_airvantage.h:</div>
<div class="dynsection">
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>General functionalities.</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#ad017b6a82aebb9997a1ed54275b8948">SWI_AV_ERROR</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defines whether the library displays error traces (on stdout) to help debugging errors.  <a href="#ad017b6a82aebb9997a1ed54275b8948"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c9a0234c7fa3d4997d1f0972b7055f1f"></a><!-- doxytag: member="swi_airvantage.h::SWI_AV_INFO" ref="c9a0234c7fa3d4997d1f0972b7055f1f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SWI_AV_INFO</b>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="87537de8632de6a52771e6fd7f699250"></a><!-- doxytag: member="swi_airvantage.h::SWI_AV_CX_SYNC" ref="87537de8632de6a52771e6fd7f699250" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#87537de8632de6a52771e6fd7f699250">SWI_AV_CX_SYNC</a>&nbsp;&nbsp;&nbsp;UINT_MAX</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value to be used to request synchronous connection to server using <a class="el" href="swi__airvantage_8h.html#7e1695310cc59c4e5b6af85afe695f48" title="Forces a connection to the server.">swi_av_ConnectToServer</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct swi_av_Asset&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An Asset is the AirVantage Application Services object used to send data to the AirVantage Application Services server.  <a href="#a496611e5e068185d1ad3f68d42be039"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#22b561de348628ee35ce54f8a9efd8b4">swi_av_Init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the Airvantage library.  <a href="#22b561de348628ee35ce54f8a9efd8b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#77fba6c45f4d74b119fee17433748fb8">swi_av_Destroy</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys the Airvantage library.  <a href="#77fba6c45f4d74b119fee17433748fb8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#7e1695310cc59c4e5b6af85afe695f48">swi_av_ConnectToServer</a> (unsigned int latency)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forces a connection to the server.  <a href="#7e1695310cc59c4e5b6af85afe695f48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#fa0b2e621845620265508da88d0bfd48">swi_av_TriggerPolicy</a> (const char *policyPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forces data attached to a given policy to be sent or consolidated immediately.  <a href="#fa0b2e621845620265508da88d0bfd48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#41d12a618696657cb8487316b7139ddd">swi_av_asset_Create</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> **asset, const char *assetIdPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates and returns a new asset instance.  <a href="#41d12a618696657cb8487316b7139ddd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#5805cec0a0fb09df60324657c6159eba">swi_av_asset_Start</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts a newly created asset.  <a href="#5805cec0a0fb09df60324657c6159eba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#b2a3a9a8856ce4efa48082c36aa25865">swi_av_asset_Destroy</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes an asset instance, releasing the associated resources.  <a href="#b2a3a9a8856ce4efa48082c36aa25865"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Data Sending Simple API</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#4dce7da2c21bedbbaf485a1cb6ef9750">swi_av_timestamp</a> { <br>
&nbsp;&nbsp;<a class="el" href="swi__airvantage_8h.html#4dce7da2c21bedbbaf485a1cb6ef97506441950bb26b3d017fb092e84412954b">SWI_AV_TSTAMP_NO</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="swi__airvantage_8h.html#4dce7da2c21bedbbaf485a1cb6ef97501af8ff28c4ee7fb0a05213d934aac081">SWI_AV_TSTAMP_AUTO</a> =  1
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specific values for timestamps.  <a href="swi__airvantage_8h.html#4dce7da2c21bedbbaf485a1cb6ef9750">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="swi__airvantage_8h.html#4dce7da2c21bedbbaf485a1cb6ef9750">swi_av_timestamp</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#37b41c1882e69263b46a2572c98fd714">swi_av_timestamp_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specific values for timestamps.  <a href="#37b41c1882e69263b46a2572c98fd714"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#527461cd891bd8a459f1bc85a1b2a227">swi_av_asset_PushString</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, const char *valuePtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes a string value to the agent.  <a href="#527461cd891bd8a459f1bc85a1b2a227"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#69a39a7b8eb6622c506b9cbdd1c0f31f">swi_av_asset_PushInteger</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, int64_t value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes an integer value to the agent.  <a href="#69a39a7b8eb6622c506b9cbdd1c0f31f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#6c7bd7a7dc05ec7a48f0728d32518b24">swi_av_asset_PushFloat</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, double value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes a float value to the agent.  <a href="#6c7bd7a7dc05ec7a48f0728d32518b24"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Data Sending Advanced API</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a> { <br>
&nbsp;&nbsp;<a class="el" href="swi__airvantage_8h.html#9ecc845c1fbee2853604f3ca964d4cfb030cdda3592d2bf014baad7efc6219aa">STORAGE_RAM</a> =  0, 
<br>
&nbsp;&nbsp;<a class="el" href="swi__airvantage_8h.html#9ecc845c1fbee2853604f3ca964d4cfbd4554cb4e79d8aa9b739772f83cc1145">STORAGE_FLASH</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specific values for storage.  <a href="swi__airvantage_8h.html#9ecc845c1fbee2853604f3ca964d4cfb">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct swi_av_Table&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A Table is the Airvantage objects handling staging database tables, to buffer, consolidate and send structured data.  <a href="#96178218cc5e87b6f27a02f50bcaef09"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#8a00fa3f70e217de8d388cea2187aa92">swi_av_table_Create</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, <a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> **table, const char *pathPtr, size_t numColumns, const char **columnNamesPtr, const char *policyPtr, <a class="el" href="swi__airvantage_8h.html#9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a> persisted, int purge)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a table, the Airvantage objects handling staging database tables, to buffer, consolidate and send structured data.  <a href="#8a00fa3f70e217de8d388cea2187aa92"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#7c246a7bfa66b4d1c1b28650ed93321e">swi_av_table_Destroy</a> (<a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys table instance, releasing associated resources.  <a href="#7c246a7bfa66b4d1c1b28650ed93321e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#359ec5d93d1ba799cde51b1184e8f6cc">swi_av_table_PushFloat</a> (<a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table, double value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes a float value in the current row of the table.  <a href="#359ec5d93d1ba799cde51b1184e8f6cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#8ba67d561e601cb5ab70c6a662c31549">swi_av_table_PushInteger</a> (<a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table, int value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes an integer value in the current row of the table.  <a href="#8ba67d561e601cb5ab70c6a662c31549"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#8500301d4db2cfc2636e4fefd73f9743">swi_av_table_PushString</a> (<a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table, const char *value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes a string value in the current row of the table.  <a href="#8500301d4db2cfc2636e4fefd73f9743"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#cec98300ef71254ada7465d14868d40c">swi_av_table_PushRow</a> (<a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *table)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pushes the current row of the database to the Agent.  <a href="#cec98300ef71254ada7465d14868d40c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Data Reception</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#0ac63a79fedd29aea57c37efea5b720b">swi_av_DataWriteCB</a> )(<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *pathPtr, <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> *data, int ack_id, void *userDataPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DataWrite callback to receive data coming from the server.  <a href="#0ac63a79fedd29aea57c37efea5b720b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#fd8557d5dd5039c4883ee77ffd0200ec">swi_av_RegisterDataWrite</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, <a class="el" href="swi__airvantage_8h.html#0ac63a79fedd29aea57c37efea5b720b">swi_av_DataWriteCB</a> cb, void *userDataPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers a callback to receive DataWrite notifications.  <a href="#fd8557d5dd5039c4883ee77ffd0200ec"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#82c7ead36e81069db2183419ff2f31fb">swi_av_Acknowledge</a> (int ackId, int status, const char *errMsgPtr, const char *policyPtr, int persisted)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Acknowledges a server message received with an acknowledgment ticket id.  <a href="#82c7ead36e81069db2183419ff2f31fb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Asset Update</h2></td></tr>
<tr><td colspan="2">Using those APIs and types, the application can receive update request, coming with update files from update package sent by AirVantage Services platform. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#bd3048b29520f300c742de7750ad5037">swi_av_updateNotificationCB</a> )(<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *componentNamePtr, const char *versionPtr, const char *updateFilePathPtr, <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> *customParams, void *userDataPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">asset update notification callback.  <a href="#bd3048b29520f300c742de7750ad5037"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#38931bbfeeb925f0495808fb32611939">swi_av_RegisterUpdateNotification</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, <a class="el" href="swi__airvantage_8h.html#bd3048b29520f300c742de7750ad5037">swi_av_updateNotificationCB</a> cb, void *userDataPtr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers the hook function to be called when the asset receives a software update request from the AirVantage services platform.  <a href="#38931bbfeeb925f0495808fb32611939"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="swi__airvantage_8h.html#8d92e14c0da03c81df9412a51df8e488">swi_av_SendUpdateResult</a> (<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset, const char *componentNamePtr, int updateResult)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the result of the software update request previously received by an asset.  <a href="#8d92e14c0da03c81df9412a51df8e488"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This API enables interaction with Sierra Wireless AirVantage Services Platform. 
<p>
Using this API, an application can work with Sierra Wireless AirVantage Services Platform to:<ul>
<li>request connection to AirVantage server</li><li>send data</li><li>receive data</li><li>receive asset update request</li></ul>
<p>
This module relies on Mihini's Agent process, which is responsible for queuing data, managing the flush timers and sending the data to the remote AirVantage server. Many of the APIs in this module relay the data to the Agent; the Agent then manages the data as described.<p>
Two methods are supported for sending data to the AirVantage servers:<ul>
<li>The swi_av_asset_Push* functions are this is a simple API for managing how to send data, this is the recommended method for most use cases.</li><li>Tables API (via swi_av_table_Create): this allows for more advanced control of the transfer of data.</li></ul>
<p>
<hr>
 <hr><h2>Define Documentation</h2>
<a class="anchor" name="ad017b6a82aebb9997a1ed54275b8948"></a><!-- doxytag: member="swi_airvantage.h::SWI_AV_ERROR" ref="ad017b6a82aebb9997a1ed54275b8948" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SWI_AV_ERROR&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Defines whether the library displays error traces (on stdout) to help debugging errors. 
<p>
Using 0 for this setting will ensure no printing is done by the libra 
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="a496611e5e068185d1ad3f68d42be039"></a><!-- doxytag: member="swi_airvantage.h::swi_av_Asset_t" ref="a496611e5e068185d1ad3f68d42be039" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct swi_av_Asset <a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
An Asset is the AirVantage Application Services object used to send data to the AirVantage Application Services server. 
<p>
Instances of this object must be created through <a class="el" href="swi__airvantage_8h.html#41d12a618696657cb8487316b7139ddd" title="Creates and returns a new asset instance.">swi_av_asset_Create</a>. 
</div>
</div><p>
<a class="anchor" name="0ac63a79fedd29aea57c37efea5b720b"></a><!-- doxytag: member="swi_airvantage.h::swi_av_DataWriteCB" ref="0ac63a79fedd29aea57c37efea5b720b" args=")(swi_av_Asset_t *asset, const char *pathPtr, swi_dset_Iterator_t *data, int ack_id, void *userDataPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="swi__airvantage_8h.html#0ac63a79fedd29aea57c37efea5b720b">swi_av_DataWriteCB</a>)(<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset,const char *pathPtr,<a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> *data,int ack_id,void *userDataPtr)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DataWrite callback to receive data coming from the server. 
<p>
No automatic acknowledge of received data will be done, so application that wants the server to receive acknowledge needs to call <a class="el" href="swi__airvantage_8h.html#82c7ead36e81069db2183419ff2f31fb" title="Acknowledges a server message received with an acknowledgment ticket id.">swi_av_Acknowledge</a> function.<p>
String parameters given to this function will be released when the callback returns.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>asset</em>&nbsp;</td><td>[IN] the asset receiving the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pathPtr</em>&nbsp;</td><td>[IN] the path targeted by the data sent by the server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>[IN] the data iterator containing the received data. The data contained in the iterator will be automatically released when the callback returns. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ack_id</em>&nbsp;</td><td>[IN] the id to be used to acknowledge the received data. If ack_id=0 then there is no need to acknowledge. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userDataPtr</em>&nbsp;</td><td>[IN] the user data given at callback registration. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="96178218cc5e87b6f27a02f50bcaef09"></a><!-- doxytag: member="swi_airvantage.h::swi_av_Table_t" ref="96178218cc5e87b6f27a02f50bcaef09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct swi_av_Table <a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A Table is the Airvantage objects handling staging database tables, to buffer, consolidate and send structured data. 
<p>
Instances of this object must be created through <a class="el" href="swi__airvantage_8h.html#8a00fa3f70e217de8d388cea2187aa92" title="Creates a table, the Airvantage objects handling staging database tables, to buffer...">swi_av_table_Create</a>. 
</div>
</div><p>
<a class="anchor" name="37b41c1882e69263b46a2572c98fd714"></a><!-- doxytag: member="swi_airvantage.h::swi_av_timestamp_t" ref="37b41c1882e69263b46a2572c98fd714" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="swi__airvantage_8h.html#4dce7da2c21bedbbaf485a1cb6ef9750">swi_av_timestamp</a> <a class="el" href="swi__airvantage_8h.html#37b41c1882e69263b46a2572c98fd714">swi_av_timestamp_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specific values for timestamps. 
<p>
Timestamps values 0 and 1 (in second since Unix Epoch) are reserved for those special timestamp requests. 
</div>
</div><p>
<a class="anchor" name="bd3048b29520f300c742de7750ad5037"></a><!-- doxytag: member="swi_airvantage.h::swi_av_updateNotificationCB" ref="bd3048b29520f300c742de7750ad5037" args=")(swi_av_Asset_t *asset, const char *componentNamePtr, const char *versionPtr, const char *updateFilePathPtr, swi_dset_Iterator_t *customParams, void *userDataPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a>(* <a class="el" href="swi__airvantage_8h.html#bd3048b29520f300c742de7750ad5037">swi_av_updateNotificationCB</a>)(<a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *asset,const char *componentNamePtr,const char *versionPtr,const char *updateFilePathPtr,<a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f">swi_dset_Iterator_t</a> *customParams,void *userDataPtr)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
asset update notification callback. 
<p>
The callback will be called when the associated asset is responsible to manage a software update request coming from AirVantage services platform.<p>
The application must call <a class="el" href="swi__airvantage_8h.html#8d92e14c0da03c81df9412a51df8e488" title="Sends the result of the software update request previously received by an asset.">swi_av_SendUpdateResult</a> explicitly to send update result, otherwise no result is sent, retry mechanism will be started and eventually the update status will be set to failed.<p>
String parameters will be released when the callback returns.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>asset</em>&nbsp;</td><td>[IN] the asset receiving the update notification </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>componentNamePtr</em>&nbsp;</td><td>[IN] is the identifier of the component to update, (the component name is a path in dotted notation) the name is defined in update package manifest file, here it is provided without the assetid at the beginning. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>versionPtr</em>&nbsp;</td><td>[IN] is the version of the component to install. Version can be empty string (but not NULL!) to specify de-installation request, non empty string for regular update/install of software component. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>updateFilePathPtr</em>&nbsp;</td><td>[IN] absolute path to local file to use on the device to do the update, can be empty string when version is empty too. The file will be automatically deleted when the update process ends, so once <a class="el" href="swi__airvantage_8h.html#8d92e14c0da03c81df9412a51df8e488" title="Sends the result of the software update request previously received by an asset.">swi_av_SendUpdateResult</a> has been called, or all retries have been done for a single component update, the file existence on file system is not guaranteed anymore. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>customParams</em>&nbsp;</td><td>[IN] application specifics parameters, defined in update package, can be NULL if no custom parameter was defined. To be processed using <a class="el" href="swi__dset_8h.html#0a4db5ea2c51e713eb7c151cb0c12f1f" title="struct to deal with incoming data.">swi_dset_Iterator_t</a> API, embedded data in the iterator will be automatically released when this callback returns. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userDataPtr</em>&nbsp;</td><td>[IN] the user data given at callback registration</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK when the callback ran correctly (it doesn't necessarily means the update was successful, see <a class="el" href="swi__airvantage_8h.html#8d92e14c0da03c81df9412a51df8e488" title="Sends the result of the software update request previously received by an asset.">swi_av_SendUpdateResult</a>), any other return value will be interpreted as error. </dd></dl>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="9ecc845c1fbee2853604f3ca964d4cfb"></a><!-- doxytag: member="swi_airvantage.h::swi_av_Table_Storage_t" ref="9ecc845c1fbee2853604f3ca964d4cfb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="swi__airvantage_8h.html#9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specific values for storage. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="9ecc845c1fbee2853604f3ca964d4cfb030cdda3592d2bf014baad7efc6219aa"></a><!-- doxytag: member="STORAGE_RAM" ref="9ecc845c1fbee2853604f3ca964d4cfb030cdda3592d2bf014baad7efc6219aa" args="" -->STORAGE_RAM</em>&nbsp;</td><td>
Non persistent, everything is saved only in RAM. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="9ecc845c1fbee2853604f3ca964d4cfbd4554cb4e79d8aa9b739772f83cc1145"></a><!-- doxytag: member="STORAGE_FLASH" ref="9ecc845c1fbee2853604f3ca964d4cfbd4554cb4e79d8aa9b739772f83cc1145" args="" -->STORAGE_FLASH</em>&nbsp;</td><td>
Persistent, everything is saved to the FLASH memory. </td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="4dce7da2c21bedbbaf485a1cb6ef9750"></a><!-- doxytag: member="swi_airvantage.h::swi_av_timestamp" ref="4dce7da2c21bedbbaf485a1cb6ef9750" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="swi__airvantage_8h.html#4dce7da2c21bedbbaf485a1cb6ef9750">swi_av_timestamp</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Specific values for timestamps. 
<p>
Timestamps values 0 and 1 (in second since Unix Epoch) are reserved for those special timestamp requests. <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="4dce7da2c21bedbbaf485a1cb6ef97506441950bb26b3d017fb092e84412954b"></a><!-- doxytag: member="SWI_AV_TSTAMP_NO" ref="4dce7da2c21bedbbaf485a1cb6ef97506441950bb26b3d017fb092e84412954b" args="" -->SWI_AV_TSTAMP_NO</em>&nbsp;</td><td>
Explicitly request no timestamp to send alongside the data. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="4dce7da2c21bedbbaf485a1cb6ef97501af8ff28c4ee7fb0a05213d934aac081"></a><!-- doxytag: member="SWI_AV_TSTAMP_AUTO" ref="4dce7da2c21bedbbaf485a1cb6ef97501af8ff28c4ee7fb0a05213d934aac081" args="" -->SWI_AV_TSTAMP_AUTO</em>&nbsp;</td><td>
Timestamp will be automatically generated when the data is added. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="82c7ead36e81069db2183419ff2f31fb"></a><!-- doxytag: member="swi_airvantage.h::swi_av_Acknowledge" ref="82c7ead36e81069db2183419ff2f31fb" args="(int ackId, int status, const char *errMsgPtr, const char *policyPtr, int persisted)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_Acknowledge           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ackId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>errMsgPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>persisted</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Acknowledges a server message received with an acknowledgment ticket id. 
<p>
No automatic acknowledge will be done, so application that wants the server to receive acknowledge needs to call this function.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_BAD_PARAMETER if the requested policy name is not found. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>ackId</em>&nbsp;</td><td>
[IN] the id to acknowledge, as given to the data reception callback. </td></tr>
<tr><td valign="top"><em>status</em>&nbsp;</td><td>
[IN] status of the acknowledge: 0 means success, other values mean error </td></tr>
<tr><td valign="top"><em>errMsgPtr</em>&nbsp;</td><td>
[IN] an optional error message string </td></tr>
<tr><td valign="top"><em>policyPtr</em>&nbsp;</td><td>
[IN] optional triggering policy to send the acknowledgment, defaults to "now". </td></tr>
<tr><td valign="top"><em>persisted</em>&nbsp;</td><td>
[IN] boolean, if true, the ACK message will be persisted in flash by the agent, and kept even if a reboot occurs before the policy is triggered. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="41d12a618696657cb8487316b7139ddd"></a><!-- doxytag: member="swi_airvantage.h::swi_av_asset_Create" ref="41d12a618696657cb8487316b7139ddd" args="(swi_av_Asset_t **asset, const char *assetIdPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_asset_Create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> **&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>assetIdPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates and returns a new asset instance. 
<p>
The newly created asset is not started when returned, it can therefore neither send nor receive messages at this point. This intermediate, non-started asset allows to configure message/update handlers before any message/update is actually transferred to the asset.<p>
See <a class="el" href="swi__airvantage_8h.html#5805cec0a0fb09df60324657c6159eba" title="Starts a newly created asset.">swi_av_asset_Start</a> to start the newly created instance.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. <p>
RC_BAD_PARAMETER if the supplied parameters are invalid </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[OUT] pointer to hold the newly created asset. The AirVantage library is responsible for allocating the resources of this asset. The user is responsible of releasing resources using <a class="el" href="swi__airvantage_8h.html#b2a3a9a8856ce4efa48082c36aa25865" title="Closes an asset instance, releasing the associated resources.">swi_av_asset_Destroy</a>. </td></tr>
<tr><td valign="top"><em>assetIdPtr</em>&nbsp;</td><td>
[IN] string defining the assetId identifying the instance of this new asset. NULL and empty string values are forbidden. The assetId must be unique on the same device, otherwise asset starting will fail. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="b2a3a9a8856ce4efa48082c36aa25865"></a><!-- doxytag: member="swi_airvantage.h::swi_av_asset_Destroy" ref="b2a3a9a8856ce4efa48082c36aa25865" args="(swi_av_Asset_t *asset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_asset_Destroy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes an asset instance, releasing the associated resources. 
<p>
Once this destructor method has been called, no more message can be sent nor received by the instance and update for this asset will be automatically rejected.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_BAD_FORMAT if asset parameter is invalid </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset to stop </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="6c7bd7a7dc05ec7a48f0728d32518b24"></a><!-- doxytag: member="swi_airvantage.h::swi_av_asset_PushFloat" ref="6c7bd7a7dc05ec7a48f0728d32518b24" args="(swi_av_Asset_t *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_asset_PushFloat           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pushes a float value to the agent. 
<p>
The data are not necessarily moved forward from the agent to the server immediately: agent-to-server data transfers are managed through policies, as described in the Mihini Agent product documentation. This API is optimized for ease of use: it will internally try to reformat data in the most sensible, server-compatible way. Applications requiring a tight control over how data are structured, buffered, consolidated and reported should consider the more advanced Table API, especially it is not possible to send correlated data using this API.<p>
String parameters can be released by user once the call has returned.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset used to send the data </td></tr>
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] the datastore path under which data will be stored relative to the asset node, the last path segment will be used as a datastore key </td></tr>
<tr><td valign="top"><em>policyPtr</em>&nbsp;</td><td>
[IN] optional name of the policy controlling when the data must be sent to the server. If omitted, the default policy is used. </td></tr>
<tr><td valign="top"><em>timestamp</em>&nbsp;</td><td>
[IN] optional timestamp, in second since Unix Epoch, <a class="el" href="swi__airvantage_8h.html#37b41c1882e69263b46a2572c98fd714" title="Specific values for timestamps.">swi_av_timestamp_t</a> values can be used to request automatic or no timestamp. </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] float value to push </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="69a39a7b8eb6622c506b9cbdd1c0f31f"></a><!-- doxytag: member="swi_airvantage.h::swi_av_asset_PushInteger" ref="69a39a7b8eb6622c506b9cbdd1c0f31f" args="(swi_av_Asset_t *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, int64_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_asset_PushInteger           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pushes an integer value to the agent. 
<p>
The data are not necessarily moved forward from the agent to the server immediately: agent-to-server data transfers are managed through policies, as described in the Mihini Agent product documentation. This API is optimized for ease of use: it will internally try to reformat data in the most sensible, server-compatible way. Applications requiring a tight control over how data are structured, buffered, consolidated and reported should consider the more advanced Table API, especially it is not possible to send correlated data using this API.<p>
String parameters can be released by user once the call has returned.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset used to send the data </td></tr>
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] the datastore path under which data will be stored relative to the asset node, the last path segment will be used as a datastore key. </td></tr>
<tr><td valign="top"><em>policyPtr</em>&nbsp;</td><td>
[IN] optional, name of the policy controlling when the data must be sent to the server. If omitted, the default policy is used. </td></tr>
<tr><td valign="top"><em>timestamp</em>&nbsp;</td><td>
[IN] optional timestamp, in second since Unix Epoch, <a class="el" href="swi__airvantage_8h.html#37b41c1882e69263b46a2572c98fd714" title="Specific values for timestamps.">swi_av_timestamp_t</a> values can be used to request automatic or no timestamp. </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] integer value to push </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="527461cd891bd8a459f1bc85a1b2a227"></a><!-- doxytag: member="swi_airvantage.h::swi_av_asset_PushString" ref="527461cd891bd8a459f1bc85a1b2a227" args="(swi_av_Asset_t *asset, const char *pathPtr, const char *policyPtr, uint32_t timestamp, const char *valuePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_asset_PushString           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>valuePtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pushes a string value to the agent. 
<p>
The data are not necessarily moved forward from the agent to the server immediately: agent-to-server data transfers are managed through policies, as described in the Mihini Agent product documentation. This API is optimized for ease of use: it will internally try to reformat data in the most sensible, server-compatible way. Applications requiring a tight control over how data are structured, buffered, consolidated and reported should consider the more advanced Table API, especially it is not possible to send correlated data using this API.<p>
String parameters can be released by user once the call has returned.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT__AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset used to send the data </td></tr>
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] the datastore path under which data will be stored relative to the asset node, the last path segment will be used as a datastore key. NULL and empty string values are forbidden. </td></tr>
<tr><td valign="top"><em>policyPtr</em>&nbsp;</td><td>
[IN] optional name of the policy controlling when the data must be sent to the server. If omitted, the default policy is used. </td></tr>
<tr><td valign="top"><em>timestamp</em>&nbsp;</td><td>
[IN] optional timestamp, in second since Unix Epoch, <a class="el" href="swi__airvantage_8h.html#37b41c1882e69263b46a2572c98fd714" title="Specific values for timestamps.">swi_av_timestamp_t</a> values can be used to request automatic or no timestamp. </td></tr>
<tr><td valign="top"><em>valuePtr</em>&nbsp;</td><td>
[IN] string value to push </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="5805cec0a0fb09df60324657c6159eba"></a><!-- doxytag: member="swi_airvantage.h::swi_av_asset_Start" ref="5805cec0a0fb09df60324657c6159eba" args="(swi_av_Asset_t *asset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_asset_Start           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Starts a newly created asset. 
<p>
Allows the asset instance to send and receive messages to/from the servers.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset to start </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="7e1695310cc59c4e5b6af85afe695f48"></a><!-- doxytag: member="swi_airvantage.h::swi_av_ConnectToServer" ref="7e1695310cc59c4e5b6af85afe695f48" args="(unsigned int latency)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_ConnectToServer           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>latency</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forces a connection to the server. 
<p>
This connection will not flush outgoing data handled through policies, but it will poll the server for new messages addressed to assets on this gateway device.<p>
If using <a class="el" href="swi__airvantage_8h.html#87537de8632de6a52771e6fd7f699250" title="Value to be used to request synchronous connection to server using swi_av_ConnectToServer...">SWI_AV_CX_SYNC</a>, the connection is synchronous, i.e. once this function returns, the requested connection to the server is closed. Otherwise the connection will happen after this call returns.<p>
Notes:<ul>
<li>valid values for latency are 0 to INT_MAX.</li><li>0 value means the connection will be asynchronous, but will be done as soon as possible.</li></ul>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>latency</em>&nbsp;</td><td>
[IN] latency in seconds before initiating the connection to the server, use SWI_AV_CX_SYNC to specify synchronous connection. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="77fba6c45f4d74b119fee17433748fb8"></a><!-- doxytag: member="swi_airvantage.h::swi_av_Destroy" ref="77fba6c45f4d74b119fee17433748fb8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_Destroy           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroys the Airvantage library. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success </dd></dl>

</div>
</div><p>
<a class="anchor" name="22b561de348628ee35ce54f8a9efd8b4"></a><!-- doxytag: member="swi_airvantage.h::swi_av_Init" ref="22b561de348628ee35ce54f8a9efd8b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_Init           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the Airvantage library. 
<p>
A call to swi_av_Init is mandatory to enable AirVantage library APIs.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>

</div>
</div><p>
<a class="anchor" name="fd8557d5dd5039c4883ee77ffd0200ec"></a><!-- doxytag: member="swi_airvantage.h::swi_av_RegisterDataWrite" ref="fd8557d5dd5039c4883ee77ffd0200ec" args="(swi_av_Asset_t *asset, swi_av_DataWriteCB cb, void *userDataPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_RegisterDataWrite           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#0ac63a79fedd29aea57c37efea5b720b">swi_av_DataWriteCB</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>userDataPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers a callback to receive DataWrite notifications. 
<p>
The callback will be called in a new pthread.<p>
Usage example of the datawrite callback function: <div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> my_datacallback(swi_av_Asset *asset, <span class="keyword">const</span> <span class="keywordtype">char</span> *path, swi_dset_Iterator* data, <span class="keywordtype">int</span> ack_id, <span class="keywordtype">void</span> *userData){
   <span class="keywordflow">if</span>(! strncmp(path, <span class="stringliteral">"command.setvalue"</span>, strlen(<span class="stringliteral">"command.setvalue"</span>)) ){
    int64_t cmd_value;
    assert(<a class="code" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3cb834a5bb2ce6d97c2831fe3d71103c14" title="Successful.">RC_OK</a> == <a class="code" href="swi__dset_8h.html#5241610a625fed7de94dc5d64f529c40" title="Retrieves an integer value of an element in the data iterator (not necessarily the...">swi_dset_GetIntegerByName</a>(data, <span class="stringliteral">"cmd_value"</span>, &amp;cmd_value) );
    setvalue(cmd_value);
   }
   <span class="keywordflow">else</span>{ <span class="comment">//unknown command</span>
      printf(<span class="stringliteral">"received data on path[%s]:\n"</span>, path);
      <span class="keywordflow">while</span>(<a class="code" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c696b3661fac4d5e5da295492ea1469e1" title="The referenced item does not exist or could not be found.">RC_NOT_FOUND</a> != <a class="code" href="swi__dset_8h.html#5d1e999b93ab613605e893dec6c563c2" title="General purpose function to iterate over received data.">swi_dset_Next</a>(data) ){
        printf(<span class="stringliteral">"data name: [%s]\n"</span>, <a class="code" href="swi__dset_8h.html#94111bb3e780ffea128371841ab7e292" title="Retrieves the name of current element in the iterator.">swi_dset_GetName</a>(data));
        <span class="comment">//...</span>
      }
   }

   <span class="keywordflow">if</span>(ack_id)
    <a class="code" href="swi__airvantage_8h.html#82c7ead36e81069db2183419ff2f31fb" title="Acknowledges a server message received with an acknowledgment ticket id.">swi_av_Acknowledge</a>(ack_id, 0, NULL, <span class="stringliteral">"now"</span>, 1);

   <span class="keywordflow">return</span> 0;
 }

 main(...){

  <a class="code" href="swi__airvantage_8h.html#fd8557d5dd5039c4883ee77ffd0200ec" title="Registers a callback to receive DataWrite notifications.">swi_av_RegisterDataWrite</a>(asset, my_datacallback, NULL)

 }
</pre></div><p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_BAD_FORMAT if provided asset param is invalid </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset listening to incoming data. </td></tr>
<tr><td valign="top"><em>cb</em>&nbsp;</td><td>
[IN] the callback function to register to receive the data. </td></tr>
<tr><td valign="top"><em>userDataPtr</em>&nbsp;</td><td>
[IN] user data that will be given back in callback. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="38931bbfeeb925f0495808fb32611939"></a><!-- doxytag: member="swi_airvantage.h::swi_av_RegisterUpdateNotification" ref="38931bbfeeb925f0495808fb32611939" args="(swi_av_Asset_t *asset, swi_av_updateNotificationCB cb, void *userDataPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_RegisterUpdateNotification           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#bd3048b29520f300c742de7750ad5037">swi_av_updateNotificationCB</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>userDataPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers the hook function to be called when the asset receives a software update request from the AirVantage services platform. 
<p>
The callback will be called in a new pthread.<p>
This feature targets applications that want to process their own update or applications that are responsible for updating another pieces of software, taking advantage of the integrated solution provided by AirVantage services.<p>
If the application wants to have a deeper control of the whole update process, it needs to use the functionalities provided by <a class="el" href="swi__update_8h.html">swi_update.h</a>.<p>
<ul>
<li>There can be only one pending software update request at a time.</li><li>Only one hook can be registered for the whole asset</li><li>If no user update hook is set, the error code 472 (meaning "not supported / not implemented") will be reported to the server.</li><li>Any error coming from this update request means that the whole update process will be considered as failed.</li><li>When an update request tries to install a version that is already installed, the application should return success value. Indeed, in some cases the asset instance won't receive and report the hook's result (e.g. because of a poorly timed reboot). As a result, the update request will be sent again, and the hook should report a success immediately.</li></ul>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_BAD_FORMAT if provided asset param is invalid </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset listening to update notification, can be a started or non-started asset. </td></tr>
<tr><td valign="top"><em>cb</em>&nbsp;</td><td>
[IN] the callback function to register to receive asset update notification Giving NULL as parameter will be treated as unregister of previous callback. </td></tr>
<tr><td valign="top"><em>userDataPtr</em>&nbsp;</td><td>
[IN] user data that will be given back in callback </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="8d92e14c0da03c81df9412a51df8e488"></a><!-- doxytag: member="swi_airvantage.h::swi_av_SendUpdateResult" ref="8d92e14c0da03c81df9412a51df8e488" args="(swi_av_Asset_t *asset, const char *componentNamePtr, int updateResult)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_SendUpdateResult           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>componentNamePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>updateResult</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the result of the software update request previously received by an asset. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_BAD_PARAMETER when no update request is matching asset and component name, the update result is discarded. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset that was targeted by the software update request. </td></tr>
<tr><td valign="top"><em>componentNamePtr</em>&nbsp;</td><td>
[IN] this must be the same value as the one that was given as argument to the swi_av_updateNotificationCB. As only one software update is possible for the same component at the same time, the couple asset+componentName fully identifies the software update request. </td></tr>
<tr><td valign="top"><em>updateResult</em>&nbsp;</td><td>
[IN] the result of the update, 200 for success, any other value means error. Values from 480 to 499 are reserved for applicative error codes,so it is highly recommended to use one (or more) of those to signify an error coming from an asset update. </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="8a00fa3f70e217de8d388cea2187aa92"></a><!-- doxytag: member="swi_airvantage.h::swi_av_table_Create" ref="8a00fa3f70e217de8d388cea2187aa92" args="(swi_av_Asset_t *asset, swi_av_Table_t **table, const char *pathPtr, size_t numColumns, const char **columnNamesPtr, const char *policyPtr, swi_av_Table_Storage_t persisted, int purge)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_table_Create           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#a496611e5e068185d1ad3f68d42be039">swi_av_Asset_t</a> *&nbsp;</td>
          <td class="paramname"> <em>asset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> **&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pathPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>numColumns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>columnNamesPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>policyPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#9ecc845c1fbee2853604f3ca964d4cfb">swi_av_Table_Storage_t</a>&nbsp;</td>
          <td class="paramname"> <em>persisted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>purge</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a table, the Airvantage objects handling staging database tables, to buffer, consolidate and send structured data. 
<p>
String parameters can be released by user once the call has returned.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. <p>
RC_BAD_FORMAT if error occurred during the payload generation (iternally used to echange data with the Agent) </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>asset</em>&nbsp;</td><td>
[IN] the asset used to send the data </td></tr>
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
[OUT] pointer to hold the newly created table. The AirVantage library is responsible for allocating the resources of this table, The user is responsible of releasing the resources using swi_av_Table_Destroy. </td></tr>
<tr><td valign="top"><em>pathPtr</em>&nbsp;</td><td>
[IN] the datastore path under which data will be stored relative to the asset node </td></tr>
<tr><td valign="top"><em>numColumns</em>&nbsp;</td><td>
[IN] number of columns of the table </td></tr>
<tr><td valign="top"><em>columnNamesPtr</em>&nbsp;</td><td>
[IN] pointer to an array of strings (with numColums entries): name of each column. </td></tr>
<tr><td valign="top"><em>policyPtr</em>&nbsp;</td><td>
[IN] name of the policy controlling when the data must be sent to the server. </td></tr>
<tr><td valign="top"><em>persisted</em>&nbsp;</td><td>
[IN] value which describes how the table must be persisted, STORAGE_FLASH meaning file persistence, STORAGE_RAM meaning in ram only. </td></tr>
<tr><td valign="top"><em>purge</em>&nbsp;</td><td>
[IN] boolean value, indicates if existing table (if any) is recreated (true) or reused (false). Recreation means the table will be dropped and then created from scratch (so any data inside table will be lost). </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="7c246a7bfa66b4d1c1b28650ed93321e"></a><!-- doxytag: member="swi_airvantage.h::swi_av_table_Destroy" ref="7c246a7bfa66b4d1c1b28650ed93321e" args="(swi_av_Table_t *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_table_Destroy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&nbsp;</td>
          <td class="paramname"> <em>table</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroys table instance, releasing associated resources. 
<p>
Partial data not pushed yet to the agent will be lost.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. <p>
RC_BAD_FORMAT if error occurred during the payload generation (iternally used to echange data with the Agent) </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
[IN] the table to destroy </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="359ec5d93d1ba799cde51b1184e8f6cc"></a><!-- doxytag: member="swi_airvantage.h::swi_av_table_PushFloat" ref="359ec5d93d1ba799cde51b1184e8f6cc" args="(swi_av_Table_t *table, double value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_table_PushFloat           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pushes a float value in the current row of the table. 
<p>
swi_av_table_Push* functions have be called in the correct order to match the table definition created in swi_av_table_Create. Until a row is complete and sent to the Agent by invoking <a class="el" href="swi__airvantage_8h.html#cec98300ef71254ada7465d14868d40c" title="Pushes the current row of the database to the Agent.">swi_av_table_PushRow()</a>, data is only pushed locally in the table database.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_OUT_OF_RANGE maximum len for the current row has been reached, the value cannot be pushed </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
[IN] the table where to push the value </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] the float to push </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="8ba67d561e601cb5ab70c6a662c31549"></a><!-- doxytag: member="swi_airvantage.h::swi_av_table_PushInteger" ref="8ba67d561e601cb5ab70c6a662c31549" args="(swi_av_Table_t *table, int value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_table_PushInteger           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pushes an integer value in the current row of the table. 
<p>
swi_av_table_Push* functions have be called in the correct order to match the table definition created in swi_av_table_Create. Until a row is complete and sent to the Agent by invoking <a class="el" href="swi__airvantage_8h.html#cec98300ef71254ada7465d14868d40c" title="Pushes the current row of the database to the Agent.">swi_av_table_PushRow()</a>, data is only pushed locally in the table database.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_OUT_OF_RANGE maximum len for the current row has been reached, the value cannot be pushed </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
[IN] the table where to push the value </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] the integer to push </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="cec98300ef71254ada7465d14868d40c"></a><!-- doxytag: member="swi_airvantage.h::swi_av_table_PushRow" ref="cec98300ef71254ada7465d14868d40c" args="(swi_av_Table_t *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_table_PushRow           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&nbsp;</td>
          <td class="paramname"> <em>table</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pushes the current row of the database to the Agent. 
<p>
Once the current row has been pushed to the Agent, it is totally freed in the database, And the table is ready to received new pushed data using swi_av_table_Push*() functions.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. <p>
RC_BAD_FORMAT if error occurred during the payload generation (iternally used to echange data with the Agent) </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
[IN] the table where to push the value </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="8500301d4db2cfc2636e4fefd73f9743"></a><!-- doxytag: member="swi_airvantage.h::swi_av_table_PushString" ref="8500301d4db2cfc2636e4fefd73f9743" args="(swi_av_Table_t *table, const char *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_table_PushString           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="swi__airvantage_8h.html#96178218cc5e87b6f27a02f50bcaef09">swi_av_Table_t</a> *&nbsp;</td>
          <td class="paramname"> <em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pushes a string value in the current row of the table. 
<p>
swi_av_table_Push* functions have be called in the correct order to match the table definition created in swi_av_table_Create. Until a row is complete and sent to the Agent by invoking <a class="el" href="swi__airvantage_8h.html#cec98300ef71254ada7465d14868d40c" title="Pushes the current row of the database to the Agent.">swi_av_table_PushRow()</a>, data is only pushed locally in the table database.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_OUT_OF_RANGE maximum len for the current row has been reached, the value cannot be pushed </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>table</em>&nbsp;</td><td>
[IN] the table where to push the value </td></tr>
<tr><td valign="top"><em>value</em>&nbsp;</td><td>
[IN] the string to push </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="fa0b2e621845620265508da88d0bfd48"></a><!-- doxytag: member="swi_airvantage.h::swi_av_TriggerPolicy" ref="fa0b2e621845620265508da88d0bfd48" args="(const char *policyPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="returncodes_8h.html#438e13c7ea21147b3f34abf30e563e3c">rc_ReturnCode_t</a> swi_av_TriggerPolicy           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>policyPtr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forces data attached to a given policy to be sent or consolidated immediately. 
<p>
This only applies to data sent using simple or advanced Data Sending APIs. Data Reception and Asset Update exchanges are <b>not</b> modified by this function.<p>
A connection to the server is done only if data needs to be sent as the result to this trigger operation. Put another way, if no data is attached to the triggered policy(ies), then no connection to the server is done. See <a class="el" href="swi__airvantage_8h.html#7e1695310cc59c4e5b6af85afe695f48" title="Forces a connection to the server.">swi_av_ConnectToServer</a> for complementary function.<p>
For a description of how policies allow to manage data reporting from the assets to the server, see Mihini Agent product documentation.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>RC_OK on success <p>
RC_BAD_PARAMETER if the requested policy name is not found. <p>
RC_NOT_AVAILABLE if the Agent cannot be accessed. </dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>policyPtr</em>&nbsp;</td><td>
[IN] name of the policy queue to be flushed. Flush all policies if policy=='*'; only flush the default policy if policy is omitted. </td></tr>
</table>
</dl>
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 19 12:54:04 2013 for Mihini agent libraries by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
